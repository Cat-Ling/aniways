(()=>{var e={};e.id=159,e.ids=[159],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},80121:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=t(72553),i=t(15319),a=t(7590),n=t.n(a),l=t(505),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["(site)",{children:["anime-list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72829)),"C:\\Users\\nasru\\Desktop\\Next Projects\\aniways\\apps\\website\\app\\(site)\\anime-list\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4106)),"C:\\Users\\nasru\\Desktop\\Next Projects\\aniways\\apps\\website\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,59978,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,31108)),"C:\\Users\\nasru\\Desktop\\Next Projects\\aniways\\apps\\website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,59978,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\nasru\\Desktop\\Next Projects\\aniways\\apps\\website\\app\\(site)\\anime-list\\page.tsx"],u="/(site)/anime-list/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(site)/anime-list/page",pathname:"/anime-list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15410:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,89793,23)),Promise.resolve().then(t.bind(t,4778))},56928:()=>{},72829:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(8061),i=t(19034),a=t(56926),n=t(8890),l=t(79468),o=t(97704),c=t(33850),d=t(16340),u=t(23440),p=t(20907);let m=async({page:e,accessToken:s,username:t})=>{let i=await (0,l.UX)(s,t,e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-3 flex w-full items-center justify-end gap-2",children:[i.paging.previous&&r.jsx(d.z,{asChild:!0,children:r.jsx(c.default,{href:`/anime-list?page=${Number(e)-1}`,rel:"prev",children:"Previous"})}),e&&(0,r.jsxs)("span",{className:"text-muted-foreground",children:["Page ",e]}),i.paging.next&&r.jsx(d.z,{asChild:!0,children:r.jsx(c.default,{href:`/anime-list?page=${Number(e)+1}`,rel:"next",children:"Next"})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:i.data.map(({node:e})=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative h-96 w-full overflow-hidden rounded-lg",children:[r.jsx(u.O,{className:"absolute h-full w-full"}),r.jsx(o.E,{className:"absolute left-0 top-0 h-96 w-full rounded-lg object-cover",width:300,height:500,src:e.main_picture.large,alt:e.title})]}),r.jsx("div",{children:e.title}),r.jsx("div",{children:e.media_type})]},e.id))})]})},x=()=>(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.O,{className:"mb-3 mr-auto h-10 w-full"}),r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:Array(20).fill(null).map((e,s)=>(0,r.jsxs)("div",{children:[r.jsx("div",{className:"relative h-96 w-full overflow-hidden rounded-lg",children:r.jsx(u.O,{className:"absolute h-full w-full"})}),r.jsx(u.O,{className:"w-3/4"})]},s))})]}),g=async e=>{let{page:s="1"}=e.searchParams,t=await (0,i.PR)((0,a.cookies)());t||(0,n.redirect)("/",n.RedirectType.replace);let{accessToken:l,user:{name:o}}=t;return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("h1",{className:"text-2xl",children:[(0,r.jsxs)("span",{className:"font-bold",children:[o,"'s"]})," Anime List"]}),r.jsx(p.Suspense,{fallback:r.jsx(x,{}),children:r.jsx(m,{page:Number(s),accessToken:l,username:o})},s)]})}},4106:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(8061);let i=({children:e})=>r.jsx("main",{className:"container mx-auto h-full min-h-screen px-3 pt-6 md:container",children:e})},79468:(e,s,t)=>{"use strict";t.d(s,{Ue:()=>l,UX:()=>i,by:()=>o});var r=t(3528);async function i(e,s,t=1,i=20){let a=new r.W({accessToken:e});return await a.getUserAnimeList(s,{limit:i,offset:(t-1)*i,fields:["alternative_titles","average_episode_duration","genres","my_list_status","synopsis"]})}var a=t(30637),n=t(82760);async function l(e){let{accessToken:s}=e,t=new r.W(s?{accessToken:s}:{clientId:process.env.MAL_CLIENT_ID});if("malId"in e)return console.log("Getting anime details of",e.malId),{...await a.bI.anime(e.malId).info().then(e=>e.data),listStatus:await t.getAnimeDetails(e.malId,{fields:["my_list_status"]}).then(e=>e?.my_list_status)};console.log("Getting anime details of",e.title);let i=(await a.bI.animeSearch({q:encodeURI(e.title)})).data.map(s=>({...s,distance:(0,n.T)(s.title??"",e.title)})).sort((e,s)=>e.distance-s.distance).at(0);if(i&&i.mal_id)return{...i,listStatus:await t.getAnimeDetails(i.mal_id,{fields:["my_list_status"]}).then(e=>e?.my_list_status)}}async function o(e,s,t=20){return a.bI.animeSearch({q:e,page:s,limit:t,sfw:!0})}},23440:(e,s,t)=>{"use strict";t.d(s,{O:()=>a});var r=t(8061),i=t(45410);function a({className:e,...s}){return r.jsx("div",{className:(0,i.cn)("bg-muted animate-pulse rounded-md",e),...s})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[183,34,745,752,890,871,40],()=>t(80121));module.exports=r})();